
flows:
  pattern_session_start: #Convo start
    description: >
      Flow for starting the conversation. The bot should greet the caller
      and briefly explain how it can help.
    name: pattern session start
    nlu_trigger:
      - intent: session_start
    steps:
      - action: utter_greet

  pattern_make_booking: #Scenario 1
    description: >
      Scenario 1: Caller wants to make a NEW booking at Ivy Gate B&B.
      Use when the user asks to book/reserve a room or provides dates
      and number of guests for a new stay.
    name: pattern make booking
    steps:
      - link: make_booking


  pattern_lookup_booking: #Scenario 2
    description: >
      Scenario 2: Caller has questions about an EXISTING booking.
      Use when the user mentions they have a booking or provides a booking ID.
    name: pattern lookup booking
    steps:
      - link: lookup_booking

  pattern_bnb_info: #Scenario 3
    description: >
      Scenario 3: Caller asks about B&B details without making a booking:
      breakfast options, smoking policy, pets, room features,
      check-in/out times, parking, Wi-Fi, etc.
    name: pattern bnb info
    steps:
      - action: utter_free_chitchat_response

  pattern_dalkey_activities: #Scenario 4
    description: >
      Scenario 4: Caller asks about THINGS TO DO in Dalkey or nearby:
      attractions, walks, restaurants, cafÃ©s, pubs, views, etc.
      Can appear alone OR during another flow. After answering,
      continue the previous booking flow if applicable.
    name: pattern dalkey activities
    steps:
      - action: utter_dalkey_things_to_do

  pattern_chitchat:
    description: >
      Conversation repair flow for clearly off-topic or casual chat
      that shouldn't disrupt the main booking conversation.
      Do NOT use for greetings, bookings, B&B questions, or Dalkey
      (those have dedicated patterns).
    name: pattern chitchat
    steps:
      - action: utter_free_chitchat_response

  pattern_search:
    description: >
      Factual or knowledge-based questions not directly about bookings
      but still travel-related or general information where no
      specific pattern applies.
    name: pattern search
    steps:
      - action: utter_free_chitchat_response