version: "3.1"

actions:
  - action_get_matching_rooms
  - action_find_availability

slots:
  amount_ppl:
    type: float
    mappings:
      - type: from_llm
      
  booking_number:
    type: float
    mappings:
      - type: from_llm

  booking_date:
    type: text
    mappings:
      - type: from_llm

  matching_rooms:
    type: text
    mappings:
      - type: controlled

  assigned_room:
    type: text
    mappings:
      - type: controlled
  
  room_info:
    type: text
    mappings:
      - type: controlled
    # can do array 

responses:
  utter_greet:
    - text: "Hello! How can I help you with the Ivy Gate B&B today?"

  utter_ask_amount_ppl:
    - text: "How many people would you like to book for?"

  utter_ask_booking_date:
    - text: "What nights would you like to stay with us?"

  utter_room_assignment: # need to
    - text: "The available room for {booking_date} is: {assigned_room}. Here is more information about the room: {room_info}."

  #utter_more_information:
  #  - text: "All done. {amount} {recipient}."

  utter_booking_complete:
    - text: "Great! I made a booking for {booking_number} on {booking_date}. We look forward to seeing you then!"

  utter_free_chitchat_response:
    - text: "placeholder"
      metadata:
        rephrase: True
        rephrase_prompt: |
          The following is a conversation with an AI assistant built with Rasa.
          The assistant can help the user book a hotel room.
          The assistant is helpful and very friendly.
          The user is making a hotel reservation or asking questions, and the assistant should respond politely but factually.
          Context / previous conversation with the user:
          {{history}}
          {{current_input}}
          Suggested AI Response: